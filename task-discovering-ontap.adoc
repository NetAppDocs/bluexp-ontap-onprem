---
sidebar: sidebar
permalink: task-discovering-ontap.html
keywords: ontap, cluster, discover, manage, discovering, fas, aff, discover onprem, discover aff cluster, discover cluster, add cluster, active iq, digital wallet
summary: BlueXP can discover the ONTAP clusters in your on-premises environment, in a NetApp Private Storage configuration, and in the IBM Cloud. Adding on-prem clusters to the BlueXP Canvas enables you to manage these clusters using the same tools as your Cloud Volumes ONTAP and other cloud storage solutions.
---

= Discover on-premises ONTAP clusters
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
Discover on-prem ONTAP clusters from BlueXP so that you can start managing volumes and performing advanced management using ONTAP System Manager.

== Discovery and management options

BlueXP provides two ways to discover and manage your clusters:

* Direct discovery for management through System Manager
+
This is the same discovery option described in the previous section where you follow the redirect.

* Discovery through a Connector (software installed in your environment) for management through System Manager and the ability to enable BlueXP data services.
+
BlueXP data services provide features such as data replication, backup and recovery, data classification, and data tiering.

Once discovered, your clusters are available as a working environment in BlueXP so that you can manage the clusters.

== Discover on-prem ONTAP clusters directly

Directly discover your on-premises ONTAP clusters from BlueXP in order to manage the clusters using System Manager.

TIP: When you access System Manager on an on-premises ONTAP cluster running 9.12.1 or later with connectivity to the BlueXP service, you'll be prompted to manage the cluster directly from BlueXP. If you follow this prompt, it discovers the cluster in BlueXP just like described in this section.

=== Requirements

* The on-premises ONTAP cluster must be running 9.12.1 or later with connectivity to the BlueXP service (\https://bluexp.netapp.com).

* You need the cluster management IP address and the password for the admin user account.
+
BlueXP discovers ONTAP clusters using HTTPS. If you use custom firewall policies, the ONTAP cluster must allow inbound HTTPS access through port 443.
+
The default "mgmt" firewall policy allows inbound HTTPS access from all IP addresses. If you modified this default policy, or if you created your own firewall policy, you must associate the HTTPS protocol with that policy and enable access from the Connector host.

* You need a valid set of NetApp Support Site credentials.
+
Learn how to https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-adding-nss-accounts.html[add the NSS account to BlueXP^].

=== Discover clusters from the Canvas page

You can discover your ONTAP clusters and add them as a working environment from the Canvas page.

.Steps

. On the Canvas page, click *Add Working Environment* and select *On-Premises*.

. Select *Local On-Premises ONTAP (Direct)*.

. Enter the cluster management IP address, the password for the admin user account, and click *Add*.

.Result

BlueXP discovers the cluster and adds it to a working environment in the Canvas.

You can now enter the working environment to manage the cluster using System Manager.

== Discover on-prem ONTAP clusters using a Connector

Using a Connector to discover your on-prem ONTAP clusters enables the Standard view in the working environment and gives you the option to enable BlueXP data services like Cloud Backup, Data Sense, and more.

=== Requirements

* A Connector installed in a cloud provider or on your premises.
+
If you want to tier cold data to the cloud, then you should review requirements for the Connector based on where you plan to tier cold data.
+
** https://docs.netapp.com/us-en/cloud-manager-setup-admin/concept-connectors.html[Learn about Connectors^]
** https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-managing-connectors.html[Switching between Connectors^]
** https://docs.netapp.com/us-en/cloud-manager-tiering/concept-cloud-tiering.html[Learn about Cloud Tiering^]

* The cluster management IP address and the password for the admin user account to add the cluster to BlueXP.
+
BlueXP discovers ONTAP clusters using HTTPS. If you use custom firewall policies, they must meet the following requirements:

** The Connector host must allow outbound HTTPS access through port 443.
+
If the Connector is in the cloud, all outbound communication is allowed by the predefined security group.

** The ONTAP cluster must allow inbound HTTPS access through port 443.
+
The default "mgmt" firewall policy allows inbound HTTPS access from all IP addresses. If you modified this default policy, or if you created your own firewall policy, you must associate the HTTPS protocol with that policy and enable access from the Connector host.

* A valid set of NetApp Support Site credentials. See how to https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-adding-nss-accounts.html[add the NSS account to BlueXP^].

=== Discover clusters from the Canvas page

You can discover your ONTAP clusters and add them as a working environment from the Canvas page.

.Steps

. On the Canvas page, click *Add Working Environment* and select *On-Premises*.

. Select *On-Premises ONTAP*.

. If you're prompted, create a Connector.
+
Refer to the links above for more details.

. On the _ONTAP Cluster Details_ page, enter the cluster management IP address, the password for the admin user account, and click *Add*.
+
image:screenshot_discover_ontap.png[A screenshot that shows an example of the ONTAP Cluster Details page: the cluster management IP address, user name and password.]

. On the _Details & Credentials_ page, enter a name and description for the working environment, and then click *Go*.

.Result

BlueXP discovers the cluster and adds it to a working environment in the Canvas.

You can enable services for this cluster in the right panel to replicate data to and from the cluster, set up data tiering to the cloud, back up volumes to the cloud, or run compliance scans on the volumes. You can also create new volumes or launch System Manager to perform advanced tasks.